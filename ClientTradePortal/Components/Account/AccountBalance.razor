@using ClientTradePortal.Models.DTO
@using MudBlazor
@* Components/Account/AccountBalance.razor *@
<MudPaper Class="pa-4" Elevation="3">
    <MudText Typo="Typo.h6" Class="mb-3">
        <MudIcon Icon="@Icons.Material.Filled.AccountBalance" Class="mr-2" Color="Color.Primary" />
        Account Summary
    </MudText>

    @if (Account != null)
    {
        <MudDivider Class="mb-3" />
        
        <MudStack Spacing="3">
            <div>
                <MudText Typo="Typo.body2" Color="Color.Secondary" Class="mb-1">
                    Cash Balance
                </MudText>
                <MudText Typo="Typo.h4" Color="Color.Primary" Class="font-weight-bold">
                    €@Account.CashBalance.ToString("N2")
                </MudText>
            </div>

            <MudDivider />

            <MudGrid>
                <MudItem xs="6">
                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                        Currency
                    </MudText>
                    <MudText Typo="Typo.body1" Class="font-weight-medium">
                        @Account.Currency
                    </MudText>
                </MudItem>

                <MudItem xs="6">
                    <MudText Typo="Typo.body2" Color="Color.Secondary">
                        Total Positions
                    </MudText>
                    <MudText Typo="Typo.body1" Class="font-weight-medium">
                        @Account.Positions.Count
                    </MudText>
                </MudItem>
            </MudGrid>

            <MudDivider />

            <MudText Typo="Typo.caption" Color="Color.Secondary">
                Account ID: @Account.AccountId.ToString()[..8]...
            </MudText>
        </MudStack>
    }
    else
    {
        <MudProgressCircular Color="Color.Primary" Indeterminate="true" />
    }
</MudPaper>

@code {
    [Parameter] public AccountResponse? Account { get; set; }
}